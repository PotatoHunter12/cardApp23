import{_ as v,o as l,c as s,b as o,w as p,v as k,d as f,F as a,r as m,t as u,e as y,f as w,g as V,h as T,i as S}from"./index-5f9a511a.js";const h={props:{players:{type:Array,required:!0}},data(){return{players:this.players,games:[{id:1,name:"Three",points:10,diff:!0},{id:2,name:"Two",points:20,diff:!0},{id:3,name:"One",points:30,diff:!0},{id:4,name:"Solo Three",points:40,diff:!0},{id:5,name:"Solo Two",points:50,diff:!0},{id:6,name:"Solo One",points:60,diff:!0},{id:7,name:"Beggar",points:70,diff:!1},{id:8,name:"Solo no Talon",points:80,diff:!0},{id:9,name:"Three - Valat of Color",points:100,diff:!1},{id:10,name:"Two - Valat of Color",points:110,diff:!1},{id:11,name:"One - Valat of Color",points:120,diff:!1},{id:12,name:"Solo Three - Valat of Color",points:125,diff:!1},{id:13,name:"Solo Two - Valat of Color",points:150,diff:!1},{id:14,name:"Solo One - Valat of Color",points:175,diff:!1},{id:15,name:"Solo no Talon - Valat of Color",points:250,diff:!1},{id:16,name:"Three - Valat",points:200,diff:!1},{id:17,name:"Two - Valat",points:220,diff:!1},{id:18,name:"One - Valat",points:240,diff:!1},{id:19,name:"Solo Three - Valat",points:250,diff:!1},{id:20,name:"Solo Two - Valat",points:300,diff:!1},{id:21,name:"Solo One - Valat",points:350,diff:!1},{id:22,name:"Solo no Talon - Valat",points:500,diff:!1}],bonusOptions:[{id:1,name:"Kings",points:10},{id:2,name:"Threesome",points:10},{id:3,name:"King Ultimo",points:10},{id:4,name:"Pagat Ultimo",points:25},{id:5,name:"Valat",points:50}],deductionOptions:[{id:1,name:"Kings",points:-10},{id:2,name:"Threesome",points:-10},{id:3,name:"King Ultimo",points:-10},{id:4,name:"Pagat Ultimo",points:-25},{id:5,name:"Valat",points:-50},{id:6,name:"Mondfang",points:-20}],counters:[{id:1,name:"Kontra",win:-1,loss:2},{id:2,name:"Re",win:-2,loss:4},{id:3,name:"Sub",win:-4,loss:8},{id:4,name:"Mort",win:-8,loss:16}],round:{points:0,game:{points:0,diff:!1},player:"",partner:"",bonuses:[],deductions:[],counter:{win:0,loss:1}}}},computed:{calculateTotal(){const r=this.round.points>=35,e=this.round.bonuses.reduce((t,d)=>t+d.points,0),b=this.round.deductions.reduce((t,d)=>t+d.points,0);return(this.round.game.points*(r?1:-1)+(this.round.game.diff?this.round.points-35:0))*(r?1:this.round.counter.loss)+e+b}},methods:{round25(){this.round.points=Math.round(this.round.points/5)*5},handleSelection(r){this.selected=r,console.log(this.selected)},checkSelection(r){return console.log("aaa"),r===this.selected},async submitRound(){this.round.points,this.round.game,this.round.player,this.round.partner,this.round.bonuses,this.round.deductions,this.round.counter,this.calculateTotal;try{this.$emit("round-submitted"),alert("Round submitted successfully!"),this.resetForm()}catch(r){console.error("Error submitting round:",r),alert("Failed to submit round.")}},resetForm(){this.round={points:0,game:null,player:"",partner:"",bonuses:[],deductions:[],counter:null}}}},R={class:"tarok-round"},C=["value"],N=["id","value"],c=["for"],U=["id","value"],O=["for"],x=["id","value","onClick","checked"],P=["for"],M={key:0},q=["onUpdate:modelValue"],B=["value"];function F(r,e,b,g,t,d){return l(),s("div",R,[e[24]||(e[24]=o("h1",null,"Round Results",-1)),o("form",{onSubmit:e[8]||(e[8]=V((...n)=>d.submitRound&&d.submitRound(...n),["prevent"]))},[o("div",null,[e[9]||(e[9]=o("label",{for:"points"},"Points: ",-1)),p(o("input",{id:"points",type:"number","onUpdate:modelValue":e[0]||(e[0]=n=>t.round.points=n),onChange:e[1]||(e[1]=(...n)=>d.round25&&d.round25(...n)),min:0,max:70,step:"5",required:""},null,544),[[k,t.round.points,void 0,{number:!0}]])]),o("div",null,[e[10]||(e[10]=o("label",{for:"game"},"Game:",-1)),p(o("select",{id:"game","onUpdate:modelValue":e[2]||(e[2]=n=>t.round.game=n),required:""},[(l(!0),s(a,null,m(t.games,n=>(l(),s("option",{key:n.id,value:n},u(n.name),9,C))),128))],512),[[f,t.round.game]])]),e[16]||(e[16]=o("br",null,null,-1)),o("div",null,[e[11]||(e[11]=o("label",{for:"player"},"Player: ",-1)),p(o("select",{id:"player","onUpdate:modelValue":e[3]||(e[3]=n=>t.round.player=n),required:""},[(l(!0),s(a,null,m(t.players,n=>(l(),s("option",{key:n.name},u(n.name),1))),128))],512),[[f,t.round.player]])]),o("div",null,[e[12]||(e[12]=o("label",{for:"partner"},"Partner: ",-1)),p(o("select",{id:"partner","onUpdate:modelValue":e[4]||(e[4]=n=>t.round.partner=n),required:""},[(l(!0),s(a,null,m(t.players,n=>(l(),s("option",{key:n.name},u(n.name),1))),128))],512),[[f,t.round.partner]])]),e[17]||(e[17]=o("br",null,null,-1)),o("div",null,[e[13]||(e[13]=o("label",null,"Bonuses: ",-1)),(l(!0),s(a,null,m(t.bonusOptions,n=>(l(),s("div",{key:n.id},[p(o("input",{type:"checkbox",id:"bonus-"+n.id,value:n,"onUpdate:modelValue":e[5]||(e[5]=i=>t.round.bonuses=i)},null,8,N),[[y,t.round.bonuses]]),o("label",{for:"bonus-"+n.id},u(n.name),9,c)]))),128))]),e[18]||(e[18]=o("br",null,null,-1)),o("div",null,[e[14]||(e[14]=o("label",null,"Deductions: ",-1)),(l(!0),s(a,null,m(t.deductionOptions,n=>(l(),s("div",{key:n.id},[p(o("input",{type:"checkbox",id:"deduction-"+n.id,value:n,"onUpdate:modelValue":e[6]||(e[6]=i=>t.round.deductions=i)},null,8,U),[[y,t.round.deductions]]),o("label",{for:"deduction-"+n.id},u(n.name),9,O)]))),128))]),e[19]||(e[19]=o("br",null,null,-1)),e[20]||(e[20]=o("label",null,"Counters:",-1)),(l(!0),s(a,null,m(t.counters,n=>(l(),s("div",{key:n.id},[p(o("input",{type:"checkbox",id:"counter-"+n.id,value:n,"onUpdate:modelValue":e[7]||(e[7]=i=>r.selectedCounter=i),onClick:i=>d.handleSelection(n),checked:d.checkSelection(n)},null,8,x),[[y,r.selectedCounter]]),o("label",{for:"counter-"+n.id},u(n.name),9,P),r.selectedCounter&&r.selectedCounter.id===n.id?(l(),s("div",M,[e[15]||(e[15]=o("label",{for:"counter-player"},"Select Player:",-1)),p(o("select",{id:"counter-player","onUpdate:modelValue":i=>n.player=i},[(l(!0),s(a,null,m(t.players,i=>(l(),s("option",{key:i.name,value:i},u(i.name),9,B))),128))],8,q),[[f,n.player]])])):w("",!0)]))),128)),e[21]||(e[21]=o("br",null,null,-1)),o("div",null,[o("strong",null,"Total Points: "+u(d.calculateTotal),1)]),e[22]||(e[22]=o("br",null,null,-1)),e[23]||(e[23]=o("button",{type:"submit",class:"btn2"},"Submit",-1))],32)])}const K=v(h,[["render",F],["__scopeId","data-v-3c8e1808"]]);const D={data(){return{showNewRound:!1,items:[]}},created(){const r=this.$route.query.items;r&&(this.items=JSON.parse(r),console.log(this.items))},methods:{toggleNewRound(){this.showNewRound=!this.showNewRound}},components:{NewRound:K}},G={class:"rad"};function _(r,e,b,g,t,d){const n=T("NewRound");return l(),s("main",null,[o("table",null,[o("tr",null,[(l(!0),s(a,null,m(t.items,i=>(l(),s("td",{key:i.name},u(i.name),1))),128))]),o("tr",G,[(l(!0),s(a,null,m(t.items,i=>(l(),s("td",{key:i.name}," o "))),128))]),o("tr",null,[(l(!0),s(a,null,m(t.items,i=>(l(),s("td",{key:i.name},u(i.value),1))),128))])]),o("button",{class:"btn",onClick:e[0]||(e[0]=(...i)=>d.toggleNewRound&&d.toggleNewRound(...i))},"Add Round"),t.showNewRound?(l(),S(n,{key:0,onRoundSubmitted:d.toggleNewRound,class:"nrnd",players:t.items},null,8,["onRoundSubmitted","players"])):w("",!0)])}const E=v(D,[["render",_]]);export{E as default};
